{% extends 'base.html'%}

{% block head %}
<link href={{ url_for('static', filename = 'css/main1.css') }} rel="stylesheet" type="text/css" media="all">
{% endblock %}

{% block body %}
<ul>
    <li><a href="/">Home</a></li>
    <li><a href="/international/">International</a></li>
  </ul>
  <div onclick="logClick('consent_notification');">Consent Notification!
  </div>
<div class = "content">
    <h1 style="text-align: center">{{ title }}</h1>
    <div class="row">
        {% for story in stories %}
        <div class="column">
          <div class="flip-card">
          <div class = "flip-card-inner">
          <div class="flip-card-front">
            <figure><center><img style="width:100%" src= {{ story.image_url }}></figure></center><figcaption>{{ story.title }}</figcaption>
            <p><strong>{{ story.source_name }}</strong><p>
          </div>
          <div class="flip-card-back">
            <p><a href="{{ story.url }}" target="_blank">{{ story.description }}</a></p>
          </div>
        </div> 
      </div>
        </div>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block script %}
<script="{{ url_for('static', filename='js/jquery-3.5.1.js') }}"></script>

<script>
  function logClick(element_id) {
    fetch(`${window.location}`, {
      method: "POST",
      credentials: "include",
      body: element_id,
      cache: 'no-cache',
      headers: new Headers({
        'content-type': 'application/json'
      })
    });
  }
</script>
{% endblock %}